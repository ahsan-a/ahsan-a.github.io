import{P as t,H as s,D as e,S as n,C as i,W as o,a,G as c,b as r,M as l,c as d,T as w,d as h}from"./vendor.edbb9884.js";function u(t,s){const e=document.getElementById("canvasContainer");if(!e)throw"container not found";t.aspect=e.clientWidth/e.clientHeight,t.updateProjectionMatrix(),s.setSize(e.clientWidth,e.clientHeight),s.setPixelRatio(window.devicePixelRatio)}class p{constructor(t,s){u(t,s),window.addEventListener("resize",(()=>{u(t,s),this.onResize()}))}onResize(){}}const f=new a;class g{constructor(t,s,e){this.camera=t,this.scene=s,this.renderer=e,this.updatables=[]}start(){this.renderer.setAnimationLoop((()=>{this.tick(),this.renderer.render(this.scene,this.camera)}))}stop(){this.tick(),this.renderer.setAnimationLoop(null)}tick(){var t;const s=f.getDelta();for(const e of this.updatables)null==(t=e.tick)||t.call(e,s)}}let m,b,y,Y,v=[];const O=new w;class k{constructor(a){this.start=()=>{Y.start(),this.started=!0},this.stop=()=>{Y.stop(),this.started=!1},this.scroll=()=>{var t;for(const s of v)null==(t=s.scroll)||t.call(s)},m=function(s){const e=new t(35,s.clientWidth/s.clientHeight,.1,100);return e.position.z=10,e.position.x=Math.min(0,1-window.scrollY),e.scroll=()=>{e.position.x=Math.min(0,1-window.scrollY/40)},e}(a),b=function(){const t=new n,s=new i(41932);return t.background=s,t}(),y=function(t){const s=new o({antialias:!0,canvas:t,alpha:!0});return s.setClearColor(0,0),s.shadowMap.enabled=!0,s.physicallyCorrectLights=!0,s}(a),Y=new g(m,b,y);const{light:c,ambientLight:r}=function(){const t=new s("white","lightslategray",4),n=new e("white",2);return n.position.set(0,5,8),{light:n,ambientLight:t}}();b.add(c,r),new p(m,y),v.push(m),document.body.onscroll=this.scroll,this.init()}async init(){const t=await async function(){const t=new c,s=(await t.loadAsync("/assets/models/island.glb")).scene;s.position.set(2,-6,-25),s.castShadow=!0,s.receiveShadow=!0;const e=Math.PI/5;return s.tick=(t=.16)=>{s.rotation.y-=e*t},s}();b.add(t),Y.updatables.push(t);const s=await async function(){const t=new c,s=(await t.loadAsync("/assets/models/cube.glb")).scene;return s.position.set(-60,30,-25),s.scale.set(1.5,1.5,1.5),s.scroll=()=>{s.rotation.set(window.pageYOffset/150,window.pageYOffset/150,0),s.position.y=-window.pageYOffset/80+30,console.log(s.position)},s}();b.add(s),v.push(s);const e=function(t){const s=new r(2,32,32),e=new l({map:t.load("/assets/textures/earth/map.webp")}),n=new d(s,e);return n.position.set(-30,0,-20),n.scroll=()=>{n.rotation.y=window.pageYOffset/100,n.scale.set(window.pageYOffset/700,window.pageYOffset/700,window.pageYOffset/700)},n}(O);b.add(e),v.push(e)}render(){y.render(b,m)}}!async function(){const t=document.getElementById("bg");if(!t)return;new k(t).start()}(),h.init();
