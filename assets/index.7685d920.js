import{P as t,H as n,D as e,S as s,C as i,W as o,a,G as r,b as c,M as d,c as w,T as l,d as h}from"./vendor.edbb9884.js";function p(t,n){if(!document.getElementById("canvasContainer"))throw"container not found";t.aspect=window.innerWidth/window.innerHeight,t.updateProjectionMatrix(),n.setSize(window.innerWidth,window.innerHeight),n.setPixelRatio(window.devicePixelRatio)}class u{constructor(t,n){p(t,n),window.addEventListener("resize",(()=>{p(t,n),this.onResize()}))}onResize(){}}const f=new a;class g{constructor(t,n,e){this.camera=t,this.scene=n,this.renderer=e,this.updatables=[]}start(){this.renderer.setAnimationLoop((()=>{this.tick(),this.renderer.render(this.scene,this.camera)}))}stop(){this.tick(),this.renderer.setAnimationLoop(null)}tick(){var t;const n=f.getDelta();for(const e of this.updatables)null==(t=e.tick)||t.call(e,n)}}let m,b,y,Y,O=[];const v=new l;class W{constructor(a){this.start=()=>{Y.start(),this.started=!0},this.stop=()=>{Y.stop(),this.started=!1},this.scroll=()=>{var t;for(const n of O)null==(t=n.scroll)||t.call(n)},m=function(n){const e=new t(35,n.clientWidth/n.clientHeight,.1,100);e.position.z=10;const s=window.innerWidth;return e.scroll=()=>{s>768&&(e.position.x=Math.min(0,1-window.scrollY/40))},e.scroll(),e}(a),b=function(){const t=new s,n=new i(3028032);return t.background=n,t}(),y=function(t){const n=new o({antialias:!0,canvas:t,alpha:!0});return n.setClearColor(0,0),n.shadowMap.enabled=!0,n.physicallyCorrectLights=!0,n}(a),Y=new g(m,b,y);const{light:r,ambientLight:c}=function(){const t=new n("white","lightslategray",4),s=new e("white",2);return s.position.set(0,5,8),{light:s,ambientLight:t}}();b.add(r,c),new u(m,y),O.push(m),window.innerWidth>768&&(document.body.onscroll=this.scroll),this.init()}async init(){const t=await async function(){const t=new r,n=(await t.loadAsync("/assets/models/island.glb")).scene;n.position.set(2,-6,-25),n.castShadow=!0,n.receiveShadow=!0;const e=Math.PI/5;return n.tick=(t=.16)=>{n.rotation.y-=e*t},n}();b.add(t),Y.updatables.push(t);const n=await async function(){const t=new r,n=(await t.loadAsync("/assets/models/cube.glb")).scene;return n.position.set(-60,30,-25),n.scale.set(1.5,1.5,1.5),n.scroll=()=>{n.rotation.set(window.pageYOffset/150,window.pageYOffset/150,0),n.position.y=-window.pageYOffset/80+30},n}();b.add(n),O.push(n);const e=function(t){const n=new c(2,32,32),e=new d({map:t.load("/assets/textures/earth/map.webp")}),s=new w(n,e);return s.position.set(-20,0,-20),s.scroll=()=>{s.rotation.y=window.pageYOffset/100,s.scale.set(window.pageYOffset/700,window.pageYOffset/700,window.pageYOffset/700)},window.innerWidth>768?s.scale.set(window.pageYOffset/700,window.pageYOffset/700,window.pageYOffset/700):s.scale.set(0,0,0),s}(v);b.add(e),O.push(e)}render(){y.render(b,m)}}!async function(){const t=document.getElementById("bg");if(!t)return;new W(t).start()}(),h.init();
