import{P as t,H as s,D as n,S as e,C as i,W as o,a,G as c,b as r,M as l,c as d,T as w,d as h}from"./vendor.edbb9884.js";function u(t,s){const n=document.getElementById("canvasContainer");if(!n)throw"container not found";t.aspect=n.clientWidth/n.clientHeight,t.updateProjectionMatrix(),s.setSize(window.innerWidth,window.innerHeight),s.setPixelRatio(window.devicePixelRatio)}class p{constructor(t,s){u(t,s),window.addEventListener("resize",(()=>{u(t,s),this.onResize()}))}onResize(){}}const f=new a;class g{constructor(t,s,n){this.camera=t,this.scene=s,this.renderer=n,this.updatables=[]}start(){this.renderer.setAnimationLoop((()=>{this.tick(),this.renderer.render(this.scene,this.camera)}))}stop(){this.tick(),this.renderer.setAnimationLoop(null)}tick(){var t;const s=f.getDelta();for(const n of this.updatables)null==(t=n.tick)||t.call(n,s)}}let m,b,y,Y,v=[];const O=new w;class k{constructor(a){this.start=()=>{Y.start(),this.started=!0},this.stop=()=>{Y.stop(),this.started=!1},this.scroll=()=>{var t;for(const s of v)null==(t=s.scroll)||t.call(s)},m=function(s){const n=new t(35,s.clientWidth/s.clientHeight,.1,100);return n.position.z=10,n.position.x=Math.min(0,1-window.scrollY),n.scroll=()=>{n.position.x=Math.min(0,1-window.scrollY/40)},n}(a),b=function(){const t=new e,s=new i(41932);return t.background=s,t}(),y=function(t){const s=new o({antialias:!0,canvas:t,alpha:!0});return s.setClearColor(0,0),s.shadowMap.enabled=!0,s.physicallyCorrectLights=!0,s}(a),Y=new g(m,b,y);const{light:c,ambientLight:r}=function(){const t=new s("white","lightslategray",4),e=new n("white",2);return e.position.set(0,5,8),{light:e,ambientLight:t}}();b.add(c,r),new p(m,y),v.push(m),document.body.onscroll=this.scroll,this.init()}async init(){const t=await async function(){const t=new c,s=(await t.loadAsync("/assets/models/island.glb")).scene;s.position.set(2,-6,-25),s.castShadow=!0,s.receiveShadow=!0;const n=Math.PI/5;return s.tick=(t=.16)=>{s.rotation.y-=n*t},s}();b.add(t),Y.updatables.push(t);const s=await async function(){const t=new c,s=(await t.loadAsync("/assets/models/cube.glb")).scene;return s.position.set(-60,30,-25),s.scale.set(1.5,1.5,1.5),s.scroll=()=>{s.rotation.set(window.pageYOffset/150,window.pageYOffset/150,0),s.position.y=-window.pageYOffset/80+30,console.log(s.position)},s}();b.add(s),v.push(s);const n=function(t){const s=new r(2,32,32),n=new l({map:t.load("/assets/textures/earth/map.webp")}),e=new d(s,n);return e.position.set(-30,0,-20),e.scroll=()=>{e.rotation.y=window.pageYOffset/100,e.scale.set(window.pageYOffset/700,window.pageYOffset/700,window.pageYOffset/700)},e}(O);b.add(n),v.push(n)}render(){y.render(b,m)}}!async function(){const t=document.getElementById("bg");if(!t)return;new k(t).start()}(),h.init();
